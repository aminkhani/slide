<svg xmlns="http://www.w3.org/2000/svg" width="640" height="820"><defs><linearGradient id="linearGradient0" x1="50%" x2="50%" y2="100%"><stop offset="0" stop-color="#ffb2b2"/><stop offset="1" stop-color="#cc1414"/></linearGradient><linearGradient id="linearGradient1" x1="50%" x2="50%" y2="100%"><stop offset="0" stop-color="#ffffb2"/><stop offset="1" stop-color="#cccc14"/></linearGradient><linearGradient id="linearGradient4" x1="50%" x2="50%" y2="100%"><stop offset="0" stop-color="#d9ffb2"/><stop offset="1" stop-color="#70cc14"/></linearGradient></defs><g><title>Layer 1</title><g transform="matrix(1,0,0,1,180,20)"><g fill="url(#linearGradient0)" stroke="#c66"><path d="m20,0l80,0c26,0 26,40 0,40l-80,0c-26,0 -26,-40 0,-40z"/></g><rect width="50.2" height="32.7" x="34.9" y="3.67" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="17.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Memory</text><text x="60" y="33.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">request</text></g><g transform="matrix(1,0,0,1,180,100)"><polygon fill="url(#linearGradient1)" stroke="#cc6" points="60 0 120 30 60 60 0 30"/><rect width="51.7" height="32.7" x="34.2" y="13.7" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="27.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Request</text><text x="60" y="43.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">type</text></g><g transform="matrix(1,0,0,1,20,160)"><polygon fill="url(#linearGradient1)" stroke="#cc6" points="60 0 120 30 60 60 0 30"/><rect width="65.8" height="17.3" x="27.1" y="21.3" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Cache hit?</text></g><g transform="matrix(1,0,0,1,340,160)"><polygon fill="url(#linearGradient1)" stroke="#cc6" points="60 0 120 30 60 60 0 30"/><rect width="65.8" height="17.3" x="27.1" y="21.3" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Cache hit?</text></g><g transform="matrix(1,0,0,1,480,410)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="104" height="48" x="8" y="6" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="20.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Write its previous</text><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">data back to the</text><text x="60" y="50.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">lower memory</text></g><g transform="matrix(1,0,0,1,340,660)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="93.2" height="32.7" x="13.4" y="13.7" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="27.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Mark the cache</text><text x="60" y="43.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">block as &apos;dirty&apos;</text></g><g transform="matrix(1,0,0,1,20,460)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="111" height="48" x="4.54" y="6" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="20.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Read data from</text><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">lower memory into</text><text x="60" y="50.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">the cache block</text></g><g transform="matrix(1,0,0,1,20,560)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="107" height="32.7" x="6.43" y="13.7" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="27.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Mark the cache</text><text x="60" y="43.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">block as &apos;not dirty&apos;</text></g><g transform="matrix(1,0,0,1,20,660)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="71.7" height="17.3" x="24.2" y="21.3" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Return data</text></g><g transform="matrix(1,0,0,1,180,760)"><g fill="url(#linearGradient0)" stroke="#c66"><path d="m20,0l80,0c26,0 26,40 0,40l-80,0c-26,0 -26,-40 0,-40z"/></g><rect width="33.9" height="17.3" x="43.1" y="11.3" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="25.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Done</text></g><g transform="matrix(1,0,0,1,340,560)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="113" height="48" x="3.54" y="6" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="20.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Write the new</text><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">data into the</text><text x="60" y="50.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">cache block</text></g><g transform="matrix(1,0,0,1,340,360)"><polygon fill="url(#linearGradient1)" stroke="#cc6" points="60 0 120 30 60 60 0 30"/><rect width="64.1" height="17.3" x="27.9" y="21.3" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Is it &apos;dirty&apos;?</text></g><g transform="matrix(1,0,0,1,20,360)"><polygon fill="url(#linearGradient1)" stroke="#cc6" points="60 0 120 30 60 60 0 30"/><rect width="64.1" height="17.3" x="27.9" y="21.3" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Is it &apos;dirty&apos;?</text></g><g transform="matrix(1,0,0,1,340,260)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="92.4" height="32.7" x="13.8" y="13.7" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="27.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Locate a cache</text><text x="60" y="43.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">block to use</text></g><g transform="matrix(1,0,0,1,20,260)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="92.4" height="32.7" x="13.8" y="13.7" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="27.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Locate a cache</text><text x="60" y="43.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">block to use</text></g><g transform="matrix(1,0,0,1,160,410)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="104" height="48" x="8" y="6" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="20.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Write its previous</text><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">data back to the</text><text x="60" y="50.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">lower memory</text></g><g transform="matrix(1,0,0,1,340,460)"><rect width="120" height="60" x="0" y="0" fill="url(#linearGradient4)" stroke="#9c6"/><rect width="111" height="48" x="4.54" y="6" fill="#fff" fill-opacity="0" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="60" y="20.033" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Read data from</text><text x="60" y="35.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">lower memory into</text><text x="60" y="50.7" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">the cache block</text></g><g fill="#000" stroke="#000"><path fill="none" d="m240,60l0,40"/><path d="m0,0z"/><path d="m247.5,85l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m300,130l90,0q10,0 10,10l0,20"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m407.5,145l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><rect width="32.9" height="17.3" x="327" y="111" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="343.475" y="125.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Write</text><g fill="#000" stroke="#000"><path fill="none" d="m180,130l-90,0q-10,0 -10,10l0,20"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m87.5,145l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><rect width="33.9" height="17.3" x="120" y="111" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="136.786" y="125.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Read</text><g fill="#000" stroke="#000"><path fill="none" d="m80,220l0,40"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m87.5,245l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><rect width="19" height="17.3" x="81.5" y="220" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="91" y="234.366" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">No</text><g fill="#000" stroke="#000"><path fill="none" d="m80,520l0,40"/><path d="m0,0z"/><path d="m87.5,545l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m80,620l0,40"/><path d="m0,0z"/><path d="m87.5,645l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m460,190l150,0q10,0 10,10l0,380q0,10 -10,10l-150,0"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m475,597.5l-15,-7.5l15,-7.5l-4.5,7.5l4.5,7.5z"/></g><rect width="23.8" height="17.3" x="460" y="171" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="471.475" y="185.439" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Yes</text><g fill="#000" stroke="#000"><path fill="none" d="m400,220l0,40"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m407.5,245l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><rect width="19" height="17.3" x="401" y="220" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="411" y="234.035" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">No</text><g fill="#000" stroke="#000"><path fill="none" d="m540,470l0,10q0,10 -10,10l-70,0"/><path d="m0,0z"/><path d="m475,497.5l-15,-7.5l15,-7.5l-4.5,7.5l4.5,7.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m80,720l0,10q0,10 10,10l140,0q10,0 10,10l0,10"/><path d="m0,0z"/><path d="m247.5,745l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m400,720l0,10q0,10 -10,10l-140,0q-10,0 -10,10l0,10"/><path d="m0,0z"/><path d="m247.5,745l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m140,190l150,0q10,0 10,10l0,480q0,10 -10,10l-150,0"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m155,697.5l-15,-7.5l15,-7.5l-4.5,7.5l4.5,7.5z"/></g><rect width="23.8" height="17.3" x="140" y="171" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="151.549" y="185.464" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Yes</text><g fill="#000" stroke="#000"><path fill="none" d="m400,620l0,40"/><path d="m0,0z"/><path d="m407.5,645l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m400,320l0,40"/><path d="m0,0z"/><path d="m407.5,345l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m80,320l0,40"/><path d="m0,0z"/><path d="m87.5,345l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m80,420l0,40"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m87.5,445l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><rect width="19" height="17.3" x="81.4" y="420" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="90.877" y="434.078" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">No</text><g fill="#000" stroke="#000"><path fill="none" d="m400,420l0,40"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m407.5,445l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><rect width="19" height="17.3" x="401" y="420" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="410.877" y="434.078" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">No</text><g fill="#000" stroke="#000"><path fill="none" d="m460,390l70,0q10,0 10,10l0,10"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m547.5,395l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><rect width="23.8" height="17.3" x="460" y="371" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="471.549" y="385.195" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Yes</text><g fill="#000" stroke="#000"><path fill="none" d="m140,390l70,0q10,0 10,10l0,10"/></g><g fill="#000" stroke="#000"><path d="m0,0z"/></g><g fill="#000" stroke="#000"><path d="m227.5,395l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g><rect width="23.8" height="17.3" x="140" y="371" fill="#fff" stroke="#fff" stroke-opacity="0" stroke-width="0"/><text x="151.549" y="385.379" fill="#000" font-family="Arial" font-size="13.3" text-anchor="middle">Yes</text><g fill="#000" stroke="#000"><path fill="none" d="m220,470l0,10q0,10 -10,10l-70,0"/><path d="m0,0z"/><path d="m155,497.5l-15,-7.5l15,-7.5l-4.5,7.5l4.5,7.5z"/></g><g fill="#000" stroke="#000"><path fill="none" d="m400,520l0,40"/><path d="m0,0z"/><path d="m407.5,545l-7.5,15l-7.5,-15l7.5,4.5l7.5,-4.5z"/></g></g></svg>